<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Numbers Link</title>
  <meta name="author" content="Line">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Numbers Link"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Numbers Link" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Numbers Link</a></h1>
  <h2><a href="/">Link Create</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-13T06:00:29.000Z"><a href="/2015/05/13/不用证书较为安全的免密码ssh代理/">2015-05-13</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/13/不用证书较为安全的免密码ssh代理/">不用证书较为安全的免密码ssh代理</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="新建一个低权限账号：">新建一个低权限账号：</h2><figure class="highlight"><figcaption><span>-M -s</span><a href="/sbin/nologin">-n vpn01```</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#36825;&#20010;&#36134;&#21495;&#21482;&#33021;&#29992;&#26469;ssh&#36830;&#25509;&#26080;&#30331;&#24405;&#26435;&#38480;.&#10; &#10;## &#28165;&#38500;&#36825;&#20010;&#36134;&#21495;&#30340;&#23494;&#30721;</span><br></pre></td></tr></table></figure>
<p>cat /etc/passwd<br>vpn01:!!:16341:0:99999:7:::<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">删掉那两个</span><br><span class="line"> </span><br><span class="line"><span class="preprocessor">##  修改sshd 配置</span></span><br></pre></td></tr></table></figure></p>
<p>/etc/ssh/sshd_config:<br>PermitEmptyPassw0rds yes<br>/etc/ini.d/sshd restart</p>
<p>cat /etc/ssh/sshd_config | grep Gate<br>GatewayPorts yes<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="comment">## 客户端执行:</span></span><br><span class="line"> ``` ssh.exe -N -p  <span class="number">22</span> -g -C -c <span class="number">3</span>des -o <span class="variable">StrictHostKeyChecking=</span>no -o <span class="variable">TCPKeepAlive=</span>yes -o <span class="variable">ServerAliveInterval=</span><span class="number">30</span> vpn01@avalon.pw -R <span class="number">3388</span>:localhost:<span class="number">3389</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li>) 如果你需要在本地打开一个代理端口可以使用<br><code>ssh -v -v -N -p 22 -g -C -c 3des vpn01@avalon.pw -D 0.0.0.0:1080</code></li>
<li>) 如果你需要将3388端口绑定到非localhost 你需要：</li>
</ol>
<p>这样你就把本地的3389 端口映射到服务器的3388端口了。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-13T03:50:19.000Z"><a href="/2015/05/13/交叉编译/">2015-05-13</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/13/交叉编译/">交叉编译</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Linux">Linux</h2><p>先执行一次生成目标系统相应的库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$GOROOT</span>/src</span><br><span class="line">CGO_ENABLED=<span class="number">0</span> GOOS=[ linux | windows ... ] GOARCH=[ amd64 | <span class="number">386</span> ] ./make.bash</span><br></pre></td></tr></table></figure>
<p>比如：<br>编译32位windows程序</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $GOROOT/src</span><br><span class="line"><span class="variable">CGO_ENABLED=</span><span class="number">0</span> <span class="variable">GOOS=</span>windows  <span class="variable">GOARCH=</span><span class="number">386</span>  ./make.bash</span><br></pre></td></tr></table></figure>
<p>以后编译的时候用：<br><figure class="highlight"><figcaption><span>GOOS=[ linux | windows ... ] GOARCH=[ amd64 | 386 ] go build * ```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;&#10;&#27604;&#22914;&#65306;&#10;``` CGO_ENABLED=0 GOOS=windows GOARCH=386  go build *</span><br></pre></td></tr></table></figure></p>
<p>注1：这种方式不支持CGO</p>
<h2 id="Windows">Windows</h2><p>下面以在windows64下生成windows32程序为例<br>生成目标系统相关的库<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="envvar">%GOROOT%</span>/src</span><br><span class="line"><span class="keyword">set</span> CGO_ENABLED=<span class="number">0</span></span><br><span class="line"><span class="keyword">set</span> GOOS=windows</span><br><span class="line"><span class="keyword">set</span> GOARCH=<span class="number">386</span></span><br><span class="line"><span class="flow">call</span> make.bat</span><br></pre></td></tr></table></figure></p>
<p>要编译的时候保证环境变量里有下面的环境变量就行：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">CGO_ENABLED=<span class="value"><span class="number">0</span></span></span></span><br><span class="line"><span class="setting">GOOS=<span class="value">windows</span></span></span><br><span class="line"><span class="setting">GOARCH=<span class="value"><span class="number">386</span></span></span></span><br></pre></td></tr></table></figure>
<p>注1: 需要mingw环境<br>golang 下各种OS各种架构应该是可以互相交叉编译，只试了linux， windows其它没测。 </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-12T10:34:15.000Z"><a href="/2015/05/12/Test/">2015-05-12</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/12/Test/">Test</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="This_is_a_test_page">This is a test page</h1><p>The content of test page.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-11T16:33:51.000Z"><a href="/2015/05/12/Summary-of-the-second-half-year-of-2011/">2015-05-12</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/12/Summary-of-the-second-half-year-of-2011/">Summary of the second half year of 2011</a></h1>
  

    </header>
    <div class="entry">
      
        <p>The time of second half year of 2011 in ZhuHai is important to me. I learn a lot and grown a lot in that time.</p>
<h2 id="The_Job">The Job</h2><p>I quit the job. Why? I told my boss that I want to take a look the outside world, a different company, a different environment maybe what I need. I told my friends that I feel tired and just want to have a rest. But, later on, I know the really thing I want is time, free time. Free time means the free.</p>
<h2 id="My_Ambition">My Ambition</h2><p>I have time now, So, I deeply think a lot of things. Soon, few days past. At some moment, I found the physic world is too reasonable, just like a huge machine drives by gears; the age of the world is so long, even to the whold history  time of  the human race no more than a spark. However long our life and no mater how much things we do the world will not change anything for us. In some case, seems we are stand still on this world. So, my ambition to change the world failed, sad. If I have no goal where can I go? Compare my ambition with others, noting interested me. Everything is meanness for me.! Ha-ha, my heart is empty! That is really great feeling. With the thought want nothing, I found a interesting thing to do, the mental world of human!</p>
<h2 id="What_is_Knowledge?">What is Knowledge?</h2><p>An empty heart make me happy all the time, but I doubt this is a good living way. The world must have something worth for me to pursuit.</p>
<p>There are some questions that you may asked before, but no one can answer them, I call them the ultimate questions. The<br>questions may look like:</p>
<p><em>Where do we come from? </em><br><em>Who really am I?  </em><br><em>What is the purpose of the world? </em></p>
<p>We are looking for answers of these questions for thousand of years, may even more long. we build kinds of philosophies base, and create science.  Toady,  these question still unknown. We need more and more knowledge, more knowledge means more time. How long, God knows!</p>
<p>What is the knowledge? Knowledge is: the facts that they really exist; the rule that control the world; the theory that works at everywhere and in any time. History generates the fact; science generates is the rule; mathematics generates the theory. Mathematics knowledge is the pure true knowledge.</p>
<p>I am looking for the truth of the world!</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:blog.avalon.pw">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/golang/">golang</a><small>1</small></li>
  
    <li><a href="/tags/ssh/">ssh</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Line
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>